.card-container {
  transform-style: preserve-3d;
  transform-origin: center;
  perspective: 1000px;
  opacity: var(--random-opacity);
}

.tarot-card {
  transform-origin: center;
  filter: brightness(0.9) contrast(1.1);
  transition: filter 0.3s ease, transform 0.3s ease;
}

.card-container.animate {
  animation: cardFloat var(--animation-duration) infinite ease-in-out, cardShift 60s infinite linear;
  animation-delay: var(--animation-delay);
}

@keyframes cardFloat {
  0%, 100% {
    transform: translateZ(-10px) rotateY(var(--random-rotation)) scale(var(--random-scale)) rotate(var(--random-rotation));
  }
  50% {
    transform: translateZ(10px) rotateY(calc(var(--random-rotation) * -0.5)) scale(calc(var(--random-scale) * 1.05)) rotate(calc(var(--random-rotation) * -0.5));
  }
}

@keyframes cardShift {
  0%, 100% {
    transform: translate(0, 0);
  }
  50% {
    transform: translate(
      calc((var(--new-pos-x) - var(--pos-x)) * 0.5%),
      calc((var(--new-pos-y) - var(--pos-y)) * 0.5%)
    );
  }
}

.card-container:hover .tarot-card {
  filter: brightness(1.2) contrast(1.3);
  transform: scale(1.1);
}